<ion-header [translucent]="true">
  <app-header></app-header>
</ion-header>

<ion-content *ngIf="productos_relacionados">
  <ion-grid *ngIf="data">
    <ion-row>
      <ion-col size="7">
        <ion-item>
          <ion-label>{{data[0].producto}}</ion-label>
        </ion-item>
      </ion-col>
      <ion-col size="5">
        <ion-button class="precio" expand="block" color="gris-boton-cantidad" shape="round">
      <ion-label color="dark"><b><h1>${{data[0].precio}}</h1></b></ion-label>    
        </ion-button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="9" *ngIf="imagen_cambiada==null && zoomeada!=true">
        <img
          (click)="zoom(data[0].imagen)"
          class="imagenprincipal"
          src="{{data[0].imagen}}"
          alt=""
        />
      </ion-col>

      <ion-col size="9" *ngIf="imagen_cambiada && zoomeada!=true">
        <img
          (click)="zoom(imagen_cambiada)"
          class="imagenprincipal"
          src="{{imagen_cambiada}}"
          alt=""
        />
      </ion-col>

      <ion-col size="3">


        <ion-row *ngFor="let item of data">
          <ion-col size="12" *ngIf="zoomeada!=true">
            <ion-card>
              <img
                (click)="cambio(item.imagen)"
                class="pickable"
                src="{{item.imagen}}"
                alt=""
              />
            </ion-card>
            <br />
            <ion-card>
              <img
                (click)="cambio(item.imagen2)"
                class="pickable"
                src="{{item.imagen2}}"
                alt=""
              />
            </ion-card>
            <br />
            <ion-card>
              <img
                (click)="cambio(item.imagen3)"
                class="pickable"
                src="{{item.imagen3}}"
                alt=""
              />
            </ion-card>
            <br />
            <ion-card>
              <img
                (click)="cambio(item.imagen4)"
                class="pickable"
                src="{{item.imagen4}}"
                alt=""
              />
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-col>



  <ion-col size="12" *ngFor="let item of data">
<div *ngIf="zoomeada">

    <ion-button color="dark" (click)="cerrarzoom()" expand="block"  shape="round">
      Cerrar
    </ion-button>

    <swiper-container [slidesPerView]="1" [autoplay]="true" [loop]="true"  [pagination]="{ clickable: true }"   >
      <swiper-slide>
        <img class="imagenprincipal" src="{{item.imagen}}" alt="" /><br />
      </swiper-slide>
      <swiper-slide>
        <img class="imagenprincipal" src="{{item.imagen2}}" alt="" />
      </swiper-slide>
      <swiper-slide>
        <img  class="imagenprincipal"  src="{{item.imagen3}}" alt="" />
      </swiper-slide>
      <swiper-slide>
        <img  class="imagenprincipal" src="{{item.imagen4}}" alt="" />
      </swiper-slide>
    </swiper-container>

  </div>

  </ion-col>





      <ion-col size="4">

 
                 <ion-label text-wrap> Cantidad:{{cantidad}}</ion-label>


 


      </ion-col>
      <ion-col size="4"> </ion-col>
      <ion-col size="4"> </ion-col>

      <ion-col size="4">
        <ion-button color="dark" expand="block" shape="round">

          <ion-button color="dark" (click)="menos()" >
    
                 <ion-icon 
            slot="icon-only"
            class="ion-icon-cantidad"
    size="large"
            name="remove-circle-outline"
          ></ion-icon>     

          </ion-button>

          <ion-button color="dark" (click)="mas()" >
    
          <ion-icon 
            slot="icon-only"
            class="ion-icon-cantidad"
            size="large"
           
            name="add-circle-outline"
          ></ion-icon>
        </ion-button>
        </ion-button>
      </ion-col>
      <ion-col size="4" *ngIf="data">
        <ion-button (click)="agregar(cantidad,data[0].idmkt_productos,data[0].precio)" color="dark" expand="block" shape="round" >
          

          <ion-label class="botoncarrito"><ion-icon class="none" color="light" slot="end" name="cart-outline"></ion-icon>Añadir a carrito
            </ion-label>

   
          
        </ion-button>
      </ion-col>
      <ion-col size="4" *ngIf="data">
        <ion-button (click)="comprar(cantidad,data[0].idmkt_productos,data[0].precio)" color="orange" expand="block" shape="round">
          <ion-label>Comprar ahora </ion-label>
        </ion-button>
      </ion-col>

      <ion-col size="12">
        <ion-item>
          <ion-label class="ion-text-center">DESCRIPCIÓN</ion-label>
        </ion-item>

        <ion-card>
          <ion-textarea disabled> {{data[0].descripcion}} </ion-textarea>
        </ion-card>
      </ion-col>

      <ion-col size="12">
        <ion-item lines="none">
          <ion-label class="ion-text-center">PRODUCTOS RELACIONADOS</ion-label>
        </ion-item>
      </ion-col>

      <ion-col size="12">
        <!-- <swiper-container>
        <swiper-slide>s1</swiper-slide>
        <swiper-slide>s2</swiper-slide>
        <swiper-slide>s3</swiper-slide>
        
        </swiper-container> -->

        <swiper-container
          [slidesPerView]="3"
          [autoplay]="true"
          [loop]="true"
          [pagination]="{ clickable: true }"
        >
          <swiper-slide *ngFor="let item of productos_relacionados">
            <img
              (click)="detalle(item.idmkt_productos, item.categoria)"
              src="{{item.imagen}}"
              alt=""
            />
          </swiper-slide>
        </swiper-container>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-item lines="none">
    <ion-fab>
      <ion-fab-button color="dark" (click)="subir()">
        <ion-icon class="flecha" name="chevron-up-outline"></ion-icon>
      </ion-fab-button>
    </ion-fab>
  </ion-item>

  <app-footer></app-footer>
</ion-content>
